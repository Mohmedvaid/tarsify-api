# Environment Variables Template
# Copy this to .env: cp .env.example .env
#
# IMPORTANT: Make sure you DON'T have DATABASE_URL set in your shell!
# Check with: echo $DATABASE_URL
# Unset with: unset DATABASE_URL

# ===========================================
# Application
# ===========================================
NODE_ENV=development
PORT=8080
HOST=0.0.0.0
API_VERSION=v1

# ===========================================
# Logging
# ===========================================
# Optional: defaults based on NODE_ENV (dev=debug, prod=error, test=warn)
# LOG_LEVEL=debug

# ===========================================
# Database
# ===========================================
# Local development (docker-compose uses port 5433 to avoid conflicts with local postgres)
DATABASE_URL=postgresql://tarsify:tarsify123@localhost:5433/tarsify_dev?schema=public

# Cloud SQL (production) - set via Cloud Run environment variables
# DATABASE_URL=postgresql://user:password@/tarsify_prod?host=/cloudsql/project:region:instance

# ===========================================
# Firebase Auth - Consumer (tarsify-users)
# ===========================================
FIREBASE_USERS_PROJECT_ID=tarsify-users
FIREBASE_USERS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_USERS_CLIENT_EMAIL=firebase-adminsdk-xxx@tarsify-users.iam.gserviceaccount.com

# ===========================================
# Firebase Auth - Developer (tarsify-devs)
# ===========================================
FIREBASE_DEVS_PROJECT_ID=tarsify-devs
FIREBASE_DEVS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_DEVS_CLIENT_EMAIL=firebase-adminsdk-xxx@tarsify-devs.iam.gserviceaccount.com

# ===========================================
# GCP Services
# ===========================================
GCP_PROJECT_ID=tarsify-studio

# Path to service account JSON key (for local development)
# In Cloud Run, this is not needed - uses Workload Identity
GOOGLE_APPLICATION_CREDENTIALS=secrets/gcs-service-account.json

# Storage buckets (required)
GCS_NOTEBOOKS_BUCKET=tarsify-studio-notebooks
GCS_MODELS_BUCKET=tarsify-studio-models
GCS_OUTPUTS_BUCKET=tarsify-studio-outputs

# ===========================================
# Stripe
# ===========================================
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# ===========================================
# RunPod (GPU Provider)
# ===========================================
RUNPOD_API_KEY=xxx

# ===========================================
# Admin
# ===========================================
# Comma-separated Firebase UIDs that have admin access
ADMIN_UIDS=

# TEMP: Super admin token for initial platform setup (remove after seeding)
# Generate with: openssl rand -hex 32
SUPER_ADMIN_TOKEN=

# ===========================================
# Security
# ===========================================
# Pipe-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000|http://localhost:3001

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000
